<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Assistant_TEP</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
</head>
<body style="width: 100vw; height: 100vh">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand">Assistant_TEP</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "Index")
                    {
                        @:active
                    }" asp-controller="Home" asp-action="Index">Місячні звіти</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "About")
                    {
                        @:active
                    }" asp-controller="Home" asp-action="Import">Імпорт</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "Other")
                    {
                        @:active
                    }" asp-controller="Home" asp-action="Other">Інші звіти</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "Privacy")
                    {
                        @:active
                    }" asp-controller="Home" asp-action="Privacy">Обмін інформацією</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "Dovidka")
                    {
                        @:active
                    }" asp-controller="Home" asp-action="Dovidka">Видача довідок</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "Forma103")
                    {
                        @:active
                    }" asp-controller="UkrPosta" asp-action="Index">Форма 103</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "Contact")
                        {
                            @:active
                        }" asp-controller="Home" asp-action="SunFlower">Сонячники</a>
                    </li>
                <li class="nav-item">
                    <a class="nav-link @if (@ViewContext.RouteData.Values["action"].ToString() == "")
                    {
                        @:active
                    }" asp-controller="Admin" asp-action="Index">Адміністрування</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0" style="margin: 1rem; position:absolute; right: 1rem;" method="post" asp-controller="Account" asp-action="Logout">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Вихід</button>
            </form>
        </div>
    </nav>

    <partial name="_CookieConsentPartial" />

    <div id="load-container">
        <partial name="~/Views/Shared/_Load.cshtml" />
    </div>

    <div id="main-content-container" class="container body-content">
        @RenderBody()
        <hr />
        <footer>
            <p>&copy; 2020 - Тернопільелектропостач. Розробив Кудрик В.П. Консультація: Дідик В.Р.</p>
        </footer>
    </div>

    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/site.min.js" asp-append-version="true"></script>
    <script src="~/js/jquery.tablesort.js"></script>
    <script>
        $(document).ready(() => {
            $('table').tablesort();
        });
    </script>
    <script>
        async function loadPage(nextPage) {
            $("#load").show();
            $("#main-content-container").hide();
            $("#load-container").css("display", "flex");
            $("#load-container").css("flex", "8");
            $("#load-container").css("height", "75vh");
            $("#load-container").css("align-items", "center");
            $("#load-container").css("justify-content", "center");
            console.log(nextPage);
            const disableSelf = () => {
                $("#load").hide();
                $("#main-content-container").show();
                $("#load-container").css("display", "block");
                $("#load-container").css("height", "0vh");
                $("#load-container").css("flex", "none");
                $("#load-container").css("align-items", "none");
                $("#load-container").css("justify-content", "none");
            };
            if (nextPage) {
                try {
                    $('body').load(nextPage);
                } catch (err) {
                    alert(err);
                    disableSelf();
                }
            }
            return disableSelf;
        };
    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>
